{"ast":null,"code":"var _jsxFileName = \"D:\\\\Bureau\\\\Projets Perso\\\\Online CV\\\\src\\\\utils\\\\components\\\\FadeProps.jsx\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DEFAULT_ANIMATION_LENGTH = 200;\nconst FADE = {\n  IN: 1,\n  OUT: 0\n};\n\nclass FadeProps extends Component {\n  constructor(props) {\n    super(props);\n\n    this.queueNextChild = () => {\n      const currentChild = this.nextChild;\n      this.nextChild = null;\n      this.timeoutId = null;\n      this.setState(_ref => {\n        let {\n          direction\n        } = _ref;\n        return { ...(currentChild ? {\n            direction: +!direction\n          } : {}),\n          currentChild\n        };\n      });\n    };\n\n    const _currentChild = props.children ? React.Children.only(props.children) : null;\n\n    this.state = {\n      currentChild: null,\n\n      /* Direction determines the opacity; if fading out, we set the opacity to 0,\r\n       * if fading in, we set the opacity to 1 */\n      direction: _currentChild ? FADE.IN : FADE.OUT\n    };\n    setTimeout(() => {\n      this.setState({\n        currentChild: _currentChild\n      });\n    });\n    this.nextChild = null;\n    this.timeoutId = null;\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timeoutId);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.children !== this.props.children) {\n      this.nextChild = this.props.children ? React.Children.only(this.props.children) : null;\n      this.fade();\n    }\n  }\n\n  fade() {\n    /*  Fade immediately if there is no current child */\n    if (!this.state.currentChild) {\n      setTimeout(() => this.queueNextChild(), this.props.delayBefore);\n      return;\n    }\n    /* If timeoutId is not set, then no fade is currently in progress, so let's\r\n     * start the fade! */\n\n\n    if (!this.timeoutId) {\n      setTimeout(() => {\n        this.timeoutId = setTimeout(this.queueNextChild, this.props.animationLength + this.props.delayBetween);\n        this.setState(_ref2 => {\n          let {\n            direction\n          } = _ref2;\n          return {\n            direction: +!direction\n          };\n        });\n      }, this.props.delayBefore);\n      return;\n    }\n\n    if (this.nextChild === this.state.currentChild) {\n      clearTimeout(this.timeoutId);\n      this.timeoutId = null;\n      this.setState(_ref3 => {\n        let {\n          direction\n        } = _ref3;\n        return {\n          direction: +!direction\n        };\n      });\n      return;\n    }\n  }\n\n  render() {\n    const {\n      direction,\n      currentChild\n    } = this.state;\n    const {\n      animationLength\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: this.props.className,\n      style: {\n        transition: `opacity ${animationLength}ms ease-in`,\n        opacity: direction\n      },\n      children: currentChild\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nFadeProps.propTypes = {\n  children: PropTypes.element,\n  animationLength: PropTypes.number,\n  delayBefore: PropTypes.number,\n  delayBetween: PropTypes.number\n};\nFadeProps.defaultProps = {\n  animationLength: DEFAULT_ANIMATION_LENGTH,\n  delayBefore: 0,\n  delayBetween: 0\n};\nexport default FadeProps;\nexport { DEFAULT_ANIMATION_LENGTH };","map":{"version":3,"sources":["D:/Bureau/Projets Perso/Online CV/src/utils/components/FadeProps.jsx"],"names":["React","Component","PropTypes","DEFAULT_ANIMATION_LENGTH","FADE","IN","OUT","FadeProps","constructor","props","queueNextChild","currentChild","nextChild","timeoutId","setState","direction","children","Children","only","state","setTimeout","componentWillUnmount","clearTimeout","componentDidUpdate","prevProps","prevState","fade","delayBefore","animationLength","delayBetween","render","className","transition","opacity","propTypes","element","number","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst DEFAULT_ANIMATION_LENGTH = 200;\r\nconst FADE = { IN: 1, OUT: 0 };\r\n\r\nclass FadeProps extends Component {\r\n\tstatic propTypes = {\r\n\t\tchildren: PropTypes.element,\r\n\t\tanimationLength: PropTypes.number,\r\n\t\tdelayBefore: PropTypes.number,\r\n\t\tdelayBetween: PropTypes.number,\r\n\t};\r\n\r\n\tstatic defaultProps = {\r\n\t\tanimationLength: DEFAULT_ANIMATION_LENGTH,\r\n\t\tdelayBefore: 0,\r\n\t\tdelayBetween: 0,\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tconst currentChild = props.children ? React.Children.only(props.children) : null;\r\n\r\n\t\tthis.state = {\r\n\t\t\tcurrentChild: null,\r\n\t\t\t/* Direction determines the opacity; if fading out, we set the opacity to 0,\r\n\t\t\t * if fading in, we set the opacity to 1 */\r\n\t\t\tdirection: currentChild ? FADE.IN : FADE.OUT,\r\n\t\t};\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setState({ currentChild });\r\n\t\t});\r\n\r\n\t\tthis.nextChild = null;\r\n\t\tthis.timeoutId = null;\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearTimeout(this.timeoutId);\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (prevProps.children !== this.props.children) {\r\n\t\t\tthis.nextChild = this.props.children ? React.Children.only(this.props.children) : null;\r\n\r\n\t\t\tthis.fade();\r\n\t\t}\r\n\t}\r\n\r\n\tfade() {\r\n\t\t/*  Fade immediately if there is no current child */\r\n\t\tif (!this.state.currentChild) {\r\n\t\t\tsetTimeout(() => this.queueNextChild(), this.props.delayBefore);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t/* If timeoutId is not set, then no fade is currently in progress, so let's\r\n\t\t * start the fade! */\r\n\t\tif (!this.timeoutId) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.timeoutId = setTimeout(this.queueNextChild, this.props.animationLength + this.props.delayBetween);\r\n\t\t\t\tthis.setState(({ direction }) => ({ direction: +!direction }));\r\n\t\t\t}, this.props.delayBefore);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.nextChild === this.state.currentChild) {\r\n\t\t\tclearTimeout(this.timeoutId);\r\n\t\t\tthis.timeoutId = null;\r\n\t\t\tthis.setState(({ direction }) => ({ direction: +!direction }));\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tqueueNextChild = () => {\r\n\t\tconst currentChild = this.nextChild;\r\n\t\tthis.nextChild = null;\r\n\t\tthis.timeoutId = null;\r\n\r\n\t\tthis.setState(({ direction }) => ({\r\n\t\t\t...(currentChild ? { direction: +!direction } : {}),\r\n\t\t\tcurrentChild,\r\n\t\t}));\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { direction, currentChild } = this.state;\r\n\t\tconst { animationLength } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={this.props.className}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\ttransition: `opacity ${animationLength}ms ease-in`,\r\n\t\t\t\t\topacity: direction,\r\n\t\t\t\t}}\r\n\t\t\t\tchildren={currentChild}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default FadeProps;\r\nexport { DEFAULT_ANIMATION_LENGTH };\r\n"]},"metadata":{},"sourceType":"module"}