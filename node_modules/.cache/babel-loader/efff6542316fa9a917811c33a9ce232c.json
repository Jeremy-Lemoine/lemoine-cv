{"ast":null,"code":"var _jsxFileName = \"D:\\\\Bureau\\\\Projets Perso\\\\React APP\\\\coman-app\\\\src\\\\pages\\\\LeftToRight.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DEFAULT_ANIMATION_LENGTH = 200;\nconst FADE = {\n  IN: 1,\n  OUT: 0\n};\n\nclass LeftToRight extends Component {\n  constructor(props) {\n    super(props);\n\n    this.queueNextChild = () => {\n      const currentChild = this.nextChild;\n      this.nextChild = null;\n      this.timeoutId = null;\n      this.setState(_ref => {\n        let {\n          direction\n        } = _ref;\n        return { ...(currentChild ? {\n            direction: +!direction\n          } : {}),\n          currentChild\n        };\n      });\n    };\n\n    const _currentChild = props.children ? React.Children.only(props.children) : null;\n\n    this.state = {\n      currentChild: _currentChild,\n\n      /* Direction determines the opacity; if fading out, we set the opacity to 0,\r\n      * if fading in, we set the opacity to 1 */\n      direction: _currentChild ? FADE.IN : FADE.OUT\n    };\n    this.nextChild = null;\n    this.timeoutId = null;\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timeoutId);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.children !== this.props.children) {\n      this.nextChild = this.props.children ? React.Children.only(this.props.children) : null;\n      this.fade();\n    }\n  }\n\n  fade() {\n    /*  Fade immediately if there is no current child */\n    if (!this.state.currentChild) {\n      this.queueNextChild();\n      return;\n    }\n    /* If timeoutId is not set, then no fade is currently in progress, so let's\r\n     * start the fade! */\n\n\n    if (!this.timeoutId) {\n      this.timeoutId = setTimeout(this.queueNextChild, this.props.animationLength);\n      this.setState(_ref2 => {\n        let {\n          direction\n        } = _ref2;\n        return {\n          direction: +!direction\n        };\n      });\n      return;\n    }\n\n    if (this.nextChild === this.state.currentChild) {\n      clearTimeout(this.timeoutId);\n      this.timeoutId = null;\n      this.setState(_ref3 => {\n        let {\n          direction\n        } = _ref3;\n        return {\n          direction: +!direction\n        };\n      });\n      return;\n    }\n  }\n\n  render() {\n    const {\n      direction,\n      currentChild\n    } = this.state;\n    const {\n      animationLength\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: this.props.className,\n      style: {\n        transition: `transform ${animationLength}ms ease-in-out`,\n        transform: `translateX(${direction === FADE.IN ? '0' : '100vw'})`\n      },\n      children: currentChild\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nLeftToRight.defaultProps = {\n  animationLength: DEFAULT_ANIMATION_LENGTH\n};\nLeftToRight.propTypes = {\n  children: PropTypes.element,\n  animationLength: PropTypes.number\n};\nexport default LeftToRight;","map":{"version":3,"sources":["D:/Bureau/Projets Perso/React APP/coman-app/src/pages/LeftToRight.jsx"],"names":["React","Component","PropTypes","DEFAULT_ANIMATION_LENGTH","FADE","IN","OUT","LeftToRight","constructor","props","queueNextChild","currentChild","nextChild","timeoutId","setState","direction","children","Children","only","state","componentWillUnmount","clearTimeout","componentDidUpdate","prevProps","prevState","fade","setTimeout","animationLength","render","className","transition","transform","defaultProps","propTypes","element","number"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst DEFAULT_ANIMATION_LENGTH = 200;\r\nconst FADE = { IN: 1, OUT: 0 };\r\n\r\nclass LeftToRight extends Component {\r\n\r\n  static defaultProps = {\r\n    animationLength: DEFAULT_ANIMATION_LENGTH\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const currentChild = props.children\r\n      ? React.Children.only(props.children)\r\n      : null;\r\n\r\n    this.state = {\r\n      currentChild,\r\n      /* Direction determines the opacity; if fading out, we set the opacity to 0,\r\n      * if fading in, we set the opacity to 1 */\r\n      direction: currentChild ? FADE.IN : FADE.OUT\r\n    };\r\n\r\n    this.nextChild = null;\r\n    this.timeoutId = null;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.timeoutId);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.children !== this.props.children) {\r\n      this.nextChild = this.props.children\r\n        ? React.Children.only(this.props.children)\r\n        : null;\r\n\r\n      this.fade();\r\n    }\r\n  }\r\n\r\n  fade() {\r\n    /*  Fade immediately if there is no current child */\r\n    if (!this.state.currentChild) {\r\n      this.queueNextChild();\r\n      return;\r\n    }\r\n\r\n    /* If timeoutId is not set, then no fade is currently in progress, so let's\r\n     * start the fade! */\r\n    if (!this.timeoutId) {\r\n      this.timeoutId = setTimeout(this.queueNextChild, this.props.animationLength);\r\n      this.setState(({direction}) => ({ direction: +!direction }));\r\n      return;\r\n    }\r\n\r\n    if (this.nextChild === this.state.currentChild) {\r\n      clearTimeout(this.timeoutId);\r\n      this.timeoutId = null;\r\n      this.setState(({direction}) => ({ direction: +!direction }));\r\n      return;\r\n    }\r\n  }\r\n\r\n  queueNextChild = () => {\r\n    const currentChild = this.nextChild;\r\n    this.nextChild = null;\r\n    this.timeoutId = null;\r\n\r\n    this.setState(({direction}) => ({\r\n      ...(currentChild ? {direction: +!direction} : {}),\r\n      currentChild\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { direction, currentChild } = this.state;\r\n    const { animationLength } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className={this.props.className}\r\n        style={{\r\n          transition: `transform ${animationLength}ms ease-in-out`,\r\n          transform: `translateX(${direction === FADE.IN ? '0' : '100vw'})`\r\n        }}\r\n        children={currentChild} />\r\n    );\r\n  }\r\n}\r\n\r\nLeftToRight.propTypes = {\r\n  children: PropTypes.element,\r\n  animationLength: PropTypes.number\r\n};\r\n\r\nexport default LeftToRight;\r\n"]},"metadata":{},"sourceType":"module"}