{"ast":null,"code":"var _jsxFileName = \"D:\\\\Bureau\\\\Projets Perso\\\\React APP\\\\coman-app\\\\src\\\\utils\\\\components\\\\LeftToRightComponents.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useMemo } from \"react\";\nimport { useCallback, useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DIRECTION = {\n  VERS_GAUCHE: -1,\n  VERS_DROITE: 1\n};\nconst DEFAULT_DURATION = 1000;\nconst DEFAULT_TRANSLATION = 30;\n\nfunction LeftToRightComponents(_ref) {\n  _s();\n\n  let {\n    children,\n    bindNext,\n    bindPrevious,\n    durationInMs,\n    translationPercentOfScreen\n  } = _ref;\n  const [selected, setSelected] = useState(0);\n  const duration = useMemo(() => durationInMs !== undefined ? durationInMs : DEFAULT_DURATION, [durationInMs]);\n  const translation = useMemo(() => translationPercentOfScreen !== undefined ? translationPercentOfScreen : DEFAULT_TRANSLATION, [translationPercentOfScreen]);\n  const childrenArray = useMemo(() => React.Children.toArray(children), [children]);\n  const [currentChild, setCurrentChild] = useState(null);\n  const [direction, setDirection] = useState(null);\n  const [etape, setEtape] = useState(2);\n  const max = useMemo(() => React.Children.count(children) - 1, [children]);\n  const next = useCallback(() => {\n    setDirection(_ => DIRECTION.VERS_DROITE);\n    setSelected(selected => selected < max ? selected + 1 : selected);\n  }, [max]);\n  const previous = useCallback(() => {\n    setDirection(_ => DIRECTION.VERS_GAUCHE);\n    setSelected(selected => selected > 0 ? selected - 1 : selected);\n  }, []);\n  useEffect(() => {\n    bindNext(() => () => next());\n    bindPrevious(() => () => previous());\n  }, [bindNext, bindPrevious, next, previous]);\n  useEffect(() => {\n    setEtape(1);\n    setTimeout(() => {\n      setEtape(1.5);\n      setCurrentChild(childrenArray[selected]);\n      setTimeout(() => setEtape(2), 1);\n    }, duration);\n  }, [selected, childrenArray, duration]);\n  const getTranslation = useCallback(() => {\n    return etape === 2 ? \"0\" : direction === DIRECTION.VERS_DROITE ? etape !== 1.5 ? `-${translation}vw` : `${translation}vw` : etape !== 1.5 ? `${translation}vw` : `-${translation}vw`;\n  }, [etape, direction]);\n  const getOpacity = useCallback(() => {\n    return etape !== 2 ? 0 : 1;\n  }, [etape]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      transition: etape !== 1.5 ? `transform ${duration}ms ease-in-out, opacity ${duration}ms ease-in-out` : `opacity ${duration}ms ease-in-out`,\n      transform: `translateX(${getTranslation()})`,\n      opacity: getOpacity()\n    },\n    children: currentChild\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 3\n  }, this);\n}\n\n_s(LeftToRightComponents, \"Vl2Rpvsij0Mm8chJTGOck9OYpas=\");\n\n_c = LeftToRightComponents;\nexport default LeftToRightComponents;\n\nvar _c;\n\n$RefreshReg$(_c, \"LeftToRightComponents\");","map":{"version":3,"sources":["D:/Bureau/Projets Perso/React APP/coman-app/src/utils/components/LeftToRightComponents.jsx"],"names":["React","useMemo","useCallback","useState","useEffect","DIRECTION","VERS_GAUCHE","VERS_DROITE","DEFAULT_DURATION","DEFAULT_TRANSLATION","LeftToRightComponents","children","bindNext","bindPrevious","durationInMs","translationPercentOfScreen","selected","setSelected","duration","undefined","translation","childrenArray","Children","toArray","currentChild","setCurrentChild","direction","setDirection","etape","setEtape","max","count","next","_","previous","setTimeout","getTranslation","getOpacity","transition","transform","opacity"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useMemo } from \"react\";\r\nimport { useCallback, useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst DIRECTION = {\r\n\tVERS_GAUCHE: -1,\r\n\tVERS_DROITE: 1,\r\n};\r\n\r\nconst DEFAULT_DURATION = 1000;\r\nconst DEFAULT_TRANSLATION = 30;\r\n\r\nfunction LeftToRightComponents({ children, bindNext, bindPrevious, durationInMs, translationPercentOfScreen }) {\r\n\tconst [selected, setSelected] = useState(0);\r\n\r\n\tconst duration = useMemo(() => (durationInMs !== undefined ? durationInMs : DEFAULT_DURATION), [durationInMs]);\r\n\tconst translation = useMemo(\r\n\t\t() => (translationPercentOfScreen !== undefined ? translationPercentOfScreen : DEFAULT_TRANSLATION),\r\n\t\t[translationPercentOfScreen]\r\n\t);\r\n\r\n\tconst childrenArray = useMemo(() => React.Children.toArray(children), [children]);\r\n\tconst [currentChild, setCurrentChild] = useState(null);\r\n\tconst [direction, setDirection] = useState(null);\r\n\tconst [etape, setEtape] = useState(2);\r\n\r\n\tconst max = useMemo(() => React.Children.count(children) - 1, [children]);\r\n\r\n\tconst next = useCallback(() => {\r\n\t\tsetDirection((_) => DIRECTION.VERS_DROITE);\r\n\t\tsetSelected((selected) => (selected < max ? selected + 1 : selected));\r\n\t}, [max]);\r\n\r\n\tconst previous = useCallback(() => {\r\n\t\tsetDirection((_) => DIRECTION.VERS_GAUCHE);\r\n\t\tsetSelected((selected) => (selected > 0 ? selected - 1 : selected));\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tbindNext(() => () => next());\r\n\t\tbindPrevious(() => () => previous());\r\n\t}, [bindNext, bindPrevious, next, previous]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetEtape(1);\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetEtape(1.5);\r\n\t\t\tsetCurrentChild(childrenArray[selected]);\r\n\t\t\tsetTimeout(() => setEtape(2), 1);\r\n\t\t}, duration);\r\n\t}, [selected, childrenArray, duration]);\r\n\r\n\tconst getTranslation = useCallback(() => {\r\n\t\treturn etape === 2\r\n\t\t\t? \"0\"\r\n\t\t\t: direction === DIRECTION.VERS_DROITE\r\n\t\t\t? etape !== 1.5\r\n\t\t\t\t? `-${translation}vw`\r\n\t\t\t\t: `${translation}vw`\r\n\t\t\t: etape !== 1.5\r\n\t\t\t? `${translation}vw`\r\n\t\t\t: `-${translation}vw`;\r\n\t}, [etape, direction]);\r\n\r\n\tconst getOpacity = useCallback(() => {\r\n\t\treturn etape !== 2 ? 0 : 1;\r\n\t}, [etape]);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\ttransition:\r\n\t\t\t\t\tetape !== 1.5\r\n\t\t\t\t\t\t? `transform ${duration}ms ease-in-out, opacity ${duration}ms ease-in-out`\r\n\t\t\t\t\t\t: `opacity ${duration}ms ease-in-out`,\r\n\t\t\t\ttransform: `translateX(${getTranslation()})`,\r\n\t\t\t\topacity: getOpacity(),\r\n\t\t\t}}\r\n\t\t\tchildren={currentChild}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nexport default LeftToRightComponents;\r\n"]},"metadata":{},"sourceType":"module"}