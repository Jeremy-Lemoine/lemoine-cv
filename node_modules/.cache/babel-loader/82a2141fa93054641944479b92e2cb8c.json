{"ast":null,"code":"var _jsxFileName = \"D:\\\\Bureau\\\\Projets Perso\\\\Online CV\\\\src\\\\utils\\\\components\\\\LeftToRightComponents.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { forwardRef } from \"react\";\nimport { useMemo } from \"react\";\nimport { useCallback, useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { IoChevronBack, IoChevronForward } from \"react-icons/io5\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DIRECTION = {\n  VERS_GAUCHE: -1,\n  VERS_DROITE: 1\n};\n\nconst LeftToRightComponents = _ref => {\n  _s();\n\n  let {\n    children,\n    durationInMs = 500,\n    translationPercentOfScreen = 30,\n    updateSelectedOnParent,\n    ...rest\n  } = _ref;\n  const [selected, setSelected] = useState(0);\n  const childrenArray = useMemo(() => React.Children.toArray(children), [children]);\n  const [currentChild, setCurrentChild] = useState(childrenArray[selected]);\n  const [direction, setDirection] = useState(null);\n  const [etape, setEtape] = useState(2);\n  const [hasInitialized, doInitialize] = useState(false);\n  const [cooldown, setCooldown] = useState(false);\n  const max = useMemo(() => React.Children.count(children) - 1, [children]);\n  const onCooldown = useCallback(() => {\n    setCooldown(true);\n    setTimeout(() => setCooldown(false), 2 * durationInMs);\n  }, [durationInMs]);\n  const next = useCallback(() => {\n    if (!cooldown) {\n      onCooldown();\n      !hasInitialized && doInitialize(true);\n      setDirection(_ => DIRECTION.VERS_DROITE);\n      setSelected(selected => selected < max ? selected + 1 : selected);\n    }\n  }, [max, hasInitialized, cooldown, onCooldown]);\n  const previous = useCallback(() => {\n    !hasInitialized && doInitialize(true);\n    setDirection(_ => DIRECTION.VERS_GAUCHE);\n    setSelected(selected => selected > 0 ? selected - 1 : selected);\n  }, [hasInitialized]);\n  useEffect(() => {\n    if (updateSelectedOnParent) {\n      updateSelectedOnParent([selected, max].map(i => i + 1));\n    }\n  }, [selected, max, updateSelectedOnParent]);\n  useEffect(() => {\n    if (hasInitialized) {\n      setEtape(1);\n      setTimeout(() => {\n        setEtape(1.5);\n        setCurrentChild(childrenArray[selected]);\n        setTimeout(() => setEtape(2), 1);\n      }, durationInMs);\n    }\n  }, [selected, childrenArray, durationInMs, hasInitialized]);\n  const isFirst = useCallback(() => {\n    return selected === 0;\n  }, [selected]);\n  const isLast = useCallback(() => {\n    return selected === max;\n  }, [selected, max]);\n  const getTranslation = useCallback(() => {\n    return etape === 2 ? \"0\" : direction === DIRECTION.VERS_DROITE ? etape !== 1.5 ? `-${translationPercentOfScreen}vw` : `${translationPercentOfScreen}vw` : etape !== 1.5 ? `${translationPercentOfScreen}vw` : `-${translationPercentOfScreen}vw`;\n  }, [etape, direction, translationPercentOfScreen]);\n  const getOpacity = useCallback(() => {\n    return etape !== 2 ? 0 : 1;\n  }, [etape]);\n  useEffect(() => {\n    window.addEventListener(\"keydown\", e => {\n      e.key === \"ArrowRight\" && next();\n      e.key === \"ArrowLeft\" && previous();\n    });\n  }, [next, previous]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"stretch\",\n        flexDirection: \"row\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: () => !isFirst() && previous(),\n        className: `left-to-right-side-button${isFirst() ? \" disabled\" : \"\"}`,\n        children: /*#__PURE__*/_jsxDEV(IoChevronBack, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          transition: etape !== 1.5 ? `transform ${durationInMs}ms ease-in-out, opacity ${durationInMs}ms ease-in-out` : `opacity ${durationInMs}ms ease-in-out`,\n          transform: `translateX(${getTranslation()})`,\n          opacity: getOpacity(),\n          justifyContent: \"center\",\n          display: \"flex\",\n          flexDirection: \"row\",\n          alignItems: \"center\",\n          ...rest\n        },\n        children: currentChild\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: () => !isLast() && next(),\n        className: `left-to-right-side-button${isLast() ? \" disabled\" : \"\"}`,\n        children: /*#__PURE__*/_jsxDEV(IoChevronForward, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n\n_s(LeftToRightComponents, \"0oo+Aa9m5nGOM10fP2mapWtrUD8=\");\n\n_c = LeftToRightComponents;\nexport default LeftToRightComponents;\n\nvar _c;\n\n$RefreshReg$(_c, \"LeftToRightComponents\");","map":{"version":3,"sources":["D:/Bureau/Projets Perso/Online CV/src/utils/components/LeftToRightComponents.jsx"],"names":["React","forwardRef","useMemo","useCallback","useState","useEffect","IoChevronBack","IoChevronForward","DIRECTION","VERS_GAUCHE","VERS_DROITE","LeftToRightComponents","children","durationInMs","translationPercentOfScreen","updateSelectedOnParent","rest","selected","setSelected","childrenArray","Children","toArray","currentChild","setCurrentChild","direction","setDirection","etape","setEtape","hasInitialized","doInitialize","cooldown","setCooldown","max","count","onCooldown","setTimeout","next","_","previous","map","i","isFirst","isLast","getTranslation","getOpacity","window","addEventListener","e","key","display","alignItems","flexDirection","transition","transform","opacity","justifyContent"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { forwardRef } from \"react\";\r\nimport { useMemo } from \"react\";\r\nimport { useCallback, useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\n\r\nimport { IoChevronBack, IoChevronForward } from \"react-icons/io5\";\r\n\r\nconst DIRECTION = {\r\n\tVERS_GAUCHE: -1,\r\n\tVERS_DROITE: 1,\r\n};\r\n\r\nconst LeftToRightComponents = ({\r\n\tchildren,\r\n\tdurationInMs = 500,\r\n\ttranslationPercentOfScreen = 30,\r\n\tupdateSelectedOnParent,\r\n\t...rest\r\n}) => {\r\n\tconst [selected, setSelected] = useState(0);\r\n\r\n\tconst childrenArray = useMemo(() => React.Children.toArray(children), [children]);\r\n\tconst [currentChild, setCurrentChild] = useState(childrenArray[selected]);\r\n\tconst [direction, setDirection] = useState(null);\r\n\tconst [etape, setEtape] = useState(2);\r\n\tconst [hasInitialized, doInitialize] = useState(false);\r\n\tconst [cooldown, setCooldown] = useState(false);\r\n\r\n\tconst max = useMemo(() => React.Children.count(children) - 1, [children]);\r\n\r\n\tconst onCooldown = useCallback(() => {\r\n\t\tsetCooldown(true);\r\n\t\tsetTimeout(() => setCooldown(false), 2 * durationInMs);\r\n\t}, [durationInMs]);\r\n\r\n\tconst next = useCallback(() => {\r\n\t\tif (!cooldown) {\r\n\t\t\tonCooldown();\r\n\t\t\t!hasInitialized && doInitialize(true);\r\n\t\t\tsetDirection((_) => DIRECTION.VERS_DROITE);\r\n\t\t\tsetSelected((selected) => (selected < max ? selected + 1 : selected));\r\n\t\t}\r\n\t}, [max, hasInitialized, cooldown, onCooldown]);\r\n\r\n\tconst previous = useCallback(() => {\r\n\t\t!hasInitialized && doInitialize(true);\r\n\t\tsetDirection((_) => DIRECTION.VERS_GAUCHE);\r\n\t\tsetSelected((selected) => (selected > 0 ? selected - 1 : selected));\r\n\t}, [hasInitialized]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (updateSelectedOnParent) {\r\n\t\t\tupdateSelectedOnParent([selected, max].map((i) => i + 1));\r\n\t\t}\r\n\t}, [selected, max, updateSelectedOnParent]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (hasInitialized) {\r\n\t\t\tsetEtape(1);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetEtape(1.5);\r\n\t\t\t\tsetCurrentChild(childrenArray[selected]);\r\n\t\t\t\tsetTimeout(() => setEtape(2), 1);\r\n\t\t\t}, durationInMs);\r\n\t\t}\r\n\t}, [selected, childrenArray, durationInMs, hasInitialized]);\r\n\r\n\tconst isFirst = useCallback(() => {\r\n\t\treturn selected === 0;\r\n\t}, [selected]);\r\n\r\n\tconst isLast = useCallback(() => {\r\n\t\treturn selected === max;\r\n\t}, [selected, max]);\r\n\r\n\tconst getTranslation = useCallback(() => {\r\n\t\treturn etape === 2\r\n\t\t\t? \"0\"\r\n\t\t\t: direction === DIRECTION.VERS_DROITE\r\n\t\t\t? etape !== 1.5\r\n\t\t\t\t? `-${translationPercentOfScreen}vw`\r\n\t\t\t\t: `${translationPercentOfScreen}vw`\r\n\t\t\t: etape !== 1.5\r\n\t\t\t? `${translationPercentOfScreen}vw`\r\n\t\t\t: `-${translationPercentOfScreen}vw`;\r\n\t}, [etape, direction, translationPercentOfScreen]);\r\n\r\n\tconst getOpacity = useCallback(() => {\r\n\t\treturn etape !== 2 ? 0 : 1;\r\n\t}, [etape]);\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener(\"keydown\", (e) => {\r\n\t\t\te.key === \"ArrowRight\" && next();\r\n\t\t\te.key === \"ArrowLeft\" && previous();\r\n\t\t});\r\n\t}, [next, previous]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div style={{ display: \"flex\", alignItems: \"stretch\", flexDirection: \"row\" }}>\r\n\t\t\t\t<span\r\n\t\t\t\t\tonClick={() => !isFirst() && previous()}\r\n\t\t\t\t\tclassName={`left-to-right-side-button${isFirst() ? \" disabled\" : \"\"}`}>\r\n\t\t\t\t\t<IoChevronBack />\r\n\t\t\t\t</span>\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\ttransition:\r\n\t\t\t\t\t\t\tetape !== 1.5\r\n\t\t\t\t\t\t\t\t? `transform ${durationInMs}ms ease-in-out, opacity ${durationInMs}ms ease-in-out`\r\n\t\t\t\t\t\t\t\t: `opacity ${durationInMs}ms ease-in-out`,\r\n\t\t\t\t\t\ttransform: `translateX(${getTranslation()})`,\r\n\t\t\t\t\t\topacity: getOpacity(),\r\n\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\tflexDirection: \"row\",\r\n\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\t...rest,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tchildren={currentChild}\r\n\t\t\t\t/>\r\n\t\t\t\t<span\r\n\t\t\t\t\tonClick={() => !isLast() && next()}\r\n\t\t\t\t\tclassName={`left-to-right-side-button${isLast() ? \" disabled\" : \"\"}`}>\r\n\t\t\t\t\t<IoChevronForward />\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default LeftToRightComponents;\r\n"]},"metadata":{},"sourceType":"module"}