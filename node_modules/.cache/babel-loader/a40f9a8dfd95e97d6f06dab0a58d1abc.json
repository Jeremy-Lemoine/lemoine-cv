{"ast":null,"code":"var _jsxFileName = \"D:\\\\Bureau\\\\Projets Perso\\\\React APP\\\\coman-app\\\\src\\\\utils\\\\components\\\\LeftToRightComponents.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { forwardRef } from \"react\";\nimport { useMemo } from \"react\";\nimport { useCallback, useState } from \"react\";\nimport { useEffect, useImperativeHandle } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DIRECTION = {\n  VERS_GAUCHE: -1,\n  VERS_DROITE: 1\n};\nconst LeftToRightComponents = /*#__PURE__*/forwardRef(_c = _s((_ref, ref) => {\n  _s();\n\n  let {\n    children,\n    durationInMs = 500,\n    translationPercentOfScreen = 30,\n    updateSelectedOnParent,\n    ...rest\n  } = _ref;\n  const [selected, setSelected] = useState(0);\n  const childrenArray = useMemo(() => React.Children.toArray(children), [children]);\n  const [currentChild, setCurrentChild] = useState(null);\n  const [direction, setDirection] = useState(null);\n  const [etape, setEtape] = useState(2);\n  const max = useMemo(() => React.Children.count(children) - 1, [children]);\n  const next = useCallback(() => {\n    setDirection(_ => DIRECTION.VERS_DROITE);\n    setSelected(selected => selected < max ? selected + 1 : selected);\n  }, [max]);\n  const previous = useCallback(() => {\n    setDirection(_ => DIRECTION.VERS_GAUCHE);\n    setSelected(selected => selected > 0 ? selected - 1 : selected);\n  }, []);\n  useEffect(() => {\n    updateSelectedOnParent([selected, max].map(i => i + 1));\n  }, [selected, max, updateSelectedOnParent]);\n  useEffect(() => {\n    setEtape(1);\n    setTimeout(() => {\n      setEtape(1.5);\n      setCurrentChild(childrenArray[selected]);\n      setTimeout(() => setEtape(2), 1);\n    }, durationInMs);\n  }, [selected, childrenArray, durationInMs]);\n  useImperativeHandle(ref, () => ({\n    isFirst() {\n      return selected === 0;\n    },\n\n    isLast() {\n      return selected === max;\n    },\n\n    next\n  }), [selected, max, next]);\n  const getTranslation = useCallback(() => {\n    return etape === 2 ? \"0\" : direction === DIRECTION.VERS_DROITE ? etape !== 1.5 ? `-${translationPercentOfScreen}vw` : `${translationPercentOfScreen}vw` : etape !== 1.5 ? `${translationPercentOfScreen}vw` : `-${translationPercentOfScreen}vw`;\n  }, [etape, direction, translationPercentOfScreen]);\n  const getOpacity = useCallback(() => {\n    return etape !== 2 ? 0 : 1;\n  }, [etape]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      transition: etape !== 1.5 ? `transform ${durationInMs}ms ease-in-out, opacity ${durationInMs}ms ease-in-out` : `opacity ${durationInMs}ms ease-in-out`,\n      transform: `translateX(${getTranslation()})`,\n      opacity: getOpacity(),\n      justifyContent: \"center\",\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      ...rest\n    },\n    children: currentChild\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 4\n  }, this);\n}, \"wBAcqGX80u+2WaNfSOIo6A9Qfz0=\", false, function () {\n  return [useImperativeHandle];\n}));\n_c2 = LeftToRightComponents;\nexport default LeftToRightComponents;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"LeftToRightComponents$forwardRef\");\n$RefreshReg$(_c2, \"LeftToRightComponents\");","map":{"version":3,"sources":["D:/Bureau/Projets Perso/React APP/coman-app/src/utils/components/LeftToRightComponents.jsx"],"names":["React","forwardRef","useMemo","useCallback","useState","useEffect","useImperativeHandle","DIRECTION","VERS_GAUCHE","VERS_DROITE","LeftToRightComponents","ref","children","durationInMs","translationPercentOfScreen","updateSelectedOnParent","rest","selected","setSelected","childrenArray","Children","toArray","currentChild","setCurrentChild","direction","setDirection","etape","setEtape","max","count","next","_","previous","map","i","setTimeout","isFirst","isLast","getTranslation","getOpacity","transition","transform","opacity","justifyContent","display","flexDirection","alignItems"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { forwardRef } from \"react\";\r\nimport { useMemo } from \"react\";\r\nimport { useCallback, useState } from \"react\";\r\nimport { useEffect, useImperativeHandle } from \"react\";\r\n\r\nconst DIRECTION = {\r\n\tVERS_GAUCHE: -1,\r\n\tVERS_DROITE: 1,\r\n};\r\n\r\nconst LeftToRightComponents = forwardRef(\r\n\t(\r\n\t\t{\r\n\t\t\tchildren,\r\n\t\t\tdurationInMs = 500,\r\n\t\t\ttranslationPercentOfScreen = 30,\r\n\t\t\tupdateSelectedOnParent,\r\n\t\t\t...rest\r\n\t\t},\r\n\t\tref\r\n\t) => {\r\n\t\tconst [selected, setSelected] = useState(0);\r\n\r\n\t\tconst childrenArray = useMemo(() => React.Children.toArray(children), [children]);\r\n\t\tconst [currentChild, setCurrentChild] = useState(null);\r\n\t\tconst [direction, setDirection] = useState(null);\r\n\t\tconst [etape, setEtape] = useState(2);\r\n\r\n\t\tconst max = useMemo(() => React.Children.count(children) - 1, [children]);\r\n\r\n\t\tconst next = useCallback(() => {\r\n\t\t\tsetDirection((_) => DIRECTION.VERS_DROITE);\r\n\t\t\tsetSelected((selected) => (selected < max ? selected + 1 : selected));\r\n\t\t}, [max]);\r\n\r\n\t\tconst previous = useCallback(() => {\r\n\t\t\tsetDirection((_) => DIRECTION.VERS_GAUCHE);\r\n\t\t\tsetSelected((selected) => (selected > 0 ? selected - 1 : selected));\r\n\t\t}, []);\r\n\r\n\t\tuseEffect(() => {\r\n\t\t\tupdateSelectedOnParent([selected, max].map((i) => i + 1));\r\n\t\t}, [selected, max, updateSelectedOnParent]);\r\n\r\n\t\tuseEffect(() => {\r\n\t\t\tsetEtape(1);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetEtape(1.5);\r\n\t\t\t\tsetCurrentChild(childrenArray[selected]);\r\n\t\t\t\tsetTimeout(() => setEtape(2), 1);\r\n\t\t\t}, durationInMs);\r\n\t\t}, [selected, childrenArray, durationInMs]);\r\n\r\n\t\tuseImperativeHandle(\r\n\t\t\tref,\r\n\t\t\t() => ({\r\n\t\t\t\tisFirst() {\r\n\t\t\t\t\treturn selected === 0;\r\n\t\t\t\t},\r\n\t\t\t\tisLast() {\r\n\t\t\t\t\treturn selected === max;\r\n\t\t\t\t},\r\n\t\t\t\tnext,\r\n\t\t\t}),\r\n\t\t\t[selected, max, next]\r\n\t\t);\r\n\r\n\t\tconst getTranslation = useCallback(() => {\r\n\t\t\treturn etape === 2\r\n\t\t\t\t? \"0\"\r\n\t\t\t\t: direction === DIRECTION.VERS_DROITE\r\n\t\t\t\t? etape !== 1.5\r\n\t\t\t\t\t? `-${translationPercentOfScreen}vw`\r\n\t\t\t\t\t: `${translationPercentOfScreen}vw`\r\n\t\t\t\t: etape !== 1.5\r\n\t\t\t\t? `${translationPercentOfScreen}vw`\r\n\t\t\t\t: `-${translationPercentOfScreen}vw`;\r\n\t\t}, [etape, direction, translationPercentOfScreen]);\r\n\r\n\t\tconst getOpacity = useCallback(() => {\r\n\t\t\treturn etape !== 2 ? 0 : 1;\r\n\t\t}, [etape]);\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\ttransition:\r\n\t\t\t\t\t\tetape !== 1.5\r\n\t\t\t\t\t\t\t? `transform ${durationInMs}ms ease-in-out, opacity ${durationInMs}ms ease-in-out`\r\n\t\t\t\t\t\t\t: `opacity ${durationInMs}ms ease-in-out`,\r\n\t\t\t\t\ttransform: `translateX(${getTranslation()})`,\r\n\t\t\t\t\topacity: getOpacity(),\r\n\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\tflexDirection: \"row\",\r\n\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t...rest,\r\n\t\t\t\t}}\r\n\t\t\t\tchildren={currentChild}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n);\r\n\r\nexport default LeftToRightComponents;\r\n"]},"metadata":{},"sourceType":"module"}