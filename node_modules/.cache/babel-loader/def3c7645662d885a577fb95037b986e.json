{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { useState, useEffect } from \"react\";\nimport database from \"./database\";\n\nfunction useUserData() {\n  _s();\n\n  const {\n    user,\n    isLoading: isLoadingAuth,\n    isAuthenticated\n  } = useAuth0();\n  const [userData, setUserData] = useState({\n    isLoaded: false,\n    data: {}\n  });\n  useEffect(() => {\n    if (!isLoadingAuth && isAuthenticated && !userData.isLoaded) {\n      async function loadUserData() {\n        database.getUserData(user.sub).then(data => {\n          setUserData({\n            isLoaded: true,\n            data: data\n          });\n        });\n      }\n\n      loadUserData();\n    }\n  });\n  return {\n    isLoadingAuth,\n    isAuthenticated,\n    isLoadedUser: userData.isLoaded,\n    userData: userData.data,\n    userID: user.sub ? user.sub : null\n  };\n}\n\n_s(useUserData, \"SeIWfnV2/dRu9JuOtJ1rqCL0ZIo=\", false, function () {\n  return [useAuth0];\n});\n\nexport default useUserData;","map":{"version":3,"sources":["D:/Bureau/Test React/coman-app/src/utils/useUserData.jsx"],"names":["useAuth0","useState","useEffect","database","useUserData","user","isLoading","isLoadingAuth","isAuthenticated","userData","setUserData","isLoaded","data","loadUserData","getUserData","sub","then","isLoadedUser","userID"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,oBAAzB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,SAASC,WAAT,GAAuB;AAAA;;AAEnB,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,SAAS,EAAEC,aAAnB;AAAkCC,IAAAA;AAAlC,MAAsDR,QAAQ,EAApE;AACA,QAAM,CAAES,QAAF,EAAYC,WAAZ,IAA4BT,QAAQ,CAAC;AAAEU,IAAAA,QAAQ,EAAE,KAAZ;AAAmBC,IAAAA,IAAI,EAAE;AAAzB,GAAD,CAA1C;AAEAV,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACK,aAAD,IAAkBC,eAAlB,IAAqC,CAACC,QAAQ,CAACE,QAAnD,EAA6D;AACzD,qBAAeE,YAAf,GAA+B;AAC3BV,QAAAA,QAAQ,CAACW,WAAT,CAAqBT,IAAI,CAACU,GAA1B,EAA+BC,IAA/B,CAAoCJ,IAAI,IAAI;AACxCF,UAAAA,WAAW,CAAC;AAACC,YAAAA,QAAQ,EAAE,IAAX;AAAiBC,YAAAA,IAAI,EAAEA;AAAvB,WAAD,CAAX;AACH,SAFD;AAGH;;AACDC,MAAAA,YAAY;AACf;AACJ,GATQ,CAAT;AAWA,SAAO;AAAEN,IAAAA,aAAF;AAAiBC,IAAAA,eAAjB;AAAkCS,IAAAA,YAAY,EAAER,QAAQ,CAACE,QAAzD;AAAmEF,IAAAA,QAAQ,EAAEA,QAAQ,CAACG,IAAtF;AACHM,IAAAA,MAAM,EAAEb,IAAI,CAACU,GAAL,GAAWV,IAAI,CAACU,GAAhB,GAAsB;AAD3B,GAAP;AAEH;;GAlBQX,W;UAEuDJ,Q;;;AAkBhE,eAAeI,WAAf","sourcesContent":["import { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport database from \"./database\";\r\n\r\nfunction useUserData() {\r\n\r\n    const { user, isLoading: isLoadingAuth, isAuthenticated } = useAuth0();\r\n    const [ userData, setUserData ] = useState({ isLoaded: false, data: {} })\r\n    \r\n    useEffect(() => {\r\n        if (!isLoadingAuth && isAuthenticated && !userData.isLoaded) {\r\n            async function loadUserData () {\r\n                database.getUserData(user.sub).then(data => {\r\n                    setUserData({isLoaded: true, data: data})\r\n                })\r\n            }\r\n            loadUserData();\r\n        }\r\n    })\r\n\r\n    return { isLoadingAuth, isAuthenticated, isLoadedUser: userData.isLoaded, userData: userData.data, \r\n        userID: user.sub ? user.sub : null }\r\n}\r\n\r\nexport default useUserData;"]},"metadata":{},"sourceType":"module"}